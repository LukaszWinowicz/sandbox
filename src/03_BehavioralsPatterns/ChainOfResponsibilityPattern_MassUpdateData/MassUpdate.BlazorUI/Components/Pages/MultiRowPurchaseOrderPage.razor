@page "/mass-update-purchase-order"
@using MassUpdate.BlazorUI.Components.Shared
@using MassUpdate.Core.DTOs
@using MassUpdate.Core.Interfaces
@rendermode InteractiveServer

@inject IMassUpdateValidationService ValidationService

<MassUpdatePageLayout TItem="MassUpdatePurchaseOrderDto"
                      PageTitle="Mass Update Purchase Order"
                      PageDescription="Enter Purchase Order data below. You can add new rows or paste from Excel."
                      ValidationLogic="@((dtoList) => ValidationService.Validate(dtoList))"
                      NewItemFactory="@(() => new MassUpdatePurchaseOrderDto { PurchaseOrder = "", LineNumber = 1, Sequence = 1, ReceiptDate = DateTime.Today })">

    <HeaderTemplate>
        <strong>Purchase Order</strong>
        <strong>Line Number</strong>
        <strong>Sequence</strong>
        <strong>Receipt Date</strong>
    </HeaderTemplate>

    <RowTemplate>
        @* 'context' to jest nasz obiekt 'row' (typu MassUpdatePurchaseOrderDto) z szablonu *@
        <FluentTextField @bind-Value="context.PurchaseOrder" />
        <FluentNumberField @bind-Value="context.LineNumber" />
        <FluentNumberField @bind-Value="context.Sequence" />
        <FluentDatePicker @bind-Value="context.ReceiptDate" />
    </RowTemplate>

</MassUpdatePageLayout>